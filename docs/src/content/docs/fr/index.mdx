---
title: Scripting AI génératif
description: GenAIScript, scripting pour l’IA générative.
template: splash
hero:
  image:
    file: ../../../assets/logo.svg
    alt: GenAIScript logo A yellow square with genai text
  actions:
    - text: Getting Started
      link: /genaiscript/getting-started/
      icon: right-arrow
      variant: primary
    - text: Discord
      link: https://discord.gg/y7HpumjHeB
      icon: discord
      variant: primary
    - text: GitHub
      link: https://github.com/microsoft/genaiscript/
      icon: github

---

import { Image } from "astro:assets";
import { Card, CardGrid } from "@astrojs/starlight/components";
import { FileTree } from "@astrojs/starlight/components";
import { YouTube } from "astro-embed";
import AudioPlayer from "../../../components/AudioPlayer.astro";
import DirectoryLinks from "../../../components/DirectoryLinks.astro";
import { Content as BuiltinAgents } from "../../../components/BuiltinAgents.mdx";
import RecentBlogPosts from "../../../components/RecentBlogPosts.astro";
import { LinkButton } from "@astrojs/starlight/components";
import vscodeSrc from "../../../../public/images/visual-studio-code.png";

import debuggerSrc from "../../../assets/debugger.png";
import debuggerAlt from "../../../assets/debugger.png.txt?raw";

import sarifSrc from "../../../assets/tla-ai-linter.png";
import sarifAlt from "../../../assets/tla-ai-linter.png.txt?raw";

import testExplorerSrc from "../../../assets/vscode-test-explorer.png";
import testExplorerAlt from "../../../assets/vscode-test-explorer.png.txt?raw";

## Prompting is Coding

Assembler programmatique des prompts pour les LLMs en utilisant JavaScript. Orchestrer LLMs, outils et données dans un seul script.

* Boîte à outils JavaScript pour travailler avec les prompts
* Abstraction pour rendre cela simple et productif
* Intégration transparente avec Visual Studio Code ou ligne de commande flexible
* Support intégré pour GitHub Copilot et GitHub Models, OpenAI, Azure OpenAI, Anthropic, et autres

## Bonjour le monde

Supposez que vous souhaitez créer un script LLM qui génère un poème ‘bonjour le monde’. Vous pouvez écrire le script suivant :

```js
$`Write a 'hello world' poem.`;
```

La fonction `$` est une balise de gabarit qui crée un prompt. Le prompt est ensuite envoyé au LLM (que vous avez configuré), qui génère le poème.

Rendons cela plus intéressant en ajoutant des fichiers, des données et une sortie structurée. Supposons que vous souhaitez inclure un fichier dans le prompt, puis sauvegarder la sortie dans un fichier. Vous pouvez écrire le script suivant :

```js
// read files
const file = await workspace.readText("data.txt");
// include the file content in the prompt in a context-friendly way
def("DATA", file);
// the task
$`Analyze DATA and extract data in JSON in data.json.`;
```

La fonction `def` inclut le contenu du fichier, et l’optimise si nécessaire pour le LLM cible. Le script GenAIScript analyse aussi la sortie du LLM
et extraira automatiquement le fichier `data.json`.

<center>
  <YouTube id="https://youtu.be/ajEbAm6kjI4" posterQuality="high" />
</center>

## Étapes suivantes

<CardGrid stagger>
  <Card title="Install the extension or cli" icon="puzzle">
    Installez l'[extension Visual Studio Code ou le CLI](/genaiscript/getting-started/installation/) pour commencer.
  </Card>

  <Card title="Configure your LLMs" icon="setting">
    Configurez les [secrets](/genaiscript/getting-started/configuration) pour accéder à vos LLMs.
  </Card>

  <Card title="Write your first script" icon="pencil">
    Suivez [Getting Started](/genaiscript/getting-started/your-first-genai-script/) pour écrire votre premier script.
  </Card>

  <Card title="Read the docs" icon="open-book">
    Apprenez-en davantage sur GenAIScript dans la [Référence Scripting](/genaiscript/reference/).
  </Card>
</CardGrid>

<Image src={vscodeSrc} alt="A screenshot of VSCode with a genaiscript opened" loading="lazy" />

<center>
  <YouTube id="https://youtu.be/ENunZe--7j0" posterQuality="high" />
</center>

## Dernières nouvelles

<RecentBlogPosts />

## Fonctionnalités

GenAIScript apporte les outils essentiels de prompts pour LLM dans un environnement de scripting cohérent.

<CardGrid>
  <Card title="Stylized JavaScript" icon="seti:javascript">
    Syntaxe minimale pour construire des prompts en utilisant [JavaScript](/genaiscript/reference/scripts/) ou [TypeScript](/genaiscript/reference/scripts/typescript).

    ```js wrap
    $`Summarize ${env.files}. Today is ${new Date()}.`;
    ```
  </Card>

  <Card title="Fast Development Loop" icon="rocket">
    Éditez, [Déboguez](/genaiscript/getting-started/debugging-scripts/), [Exécutez](/genaiscript/getting-started/running-scripts/), [Testez](/genaiscript/getting-started/testing-scripts/) vos scripts dans [Visual Studio Code](/genaiscript/getting-started/installation) ou avec une [console de commande](/genaiscript/getting-started/installation).

    <Image src={debuggerSrc} alt={debuggerAlt} loading="lazy" />
  </Card>

  <Card title="LLM Tools" icon="setting">
    Enregistrez des fonctions JavaScript comme [outils LLM](/genaiscript/reference/scripts/tools/) (avec fallback pour les modèles qui ne supportent pas les outils).

    ```js wrap
    defTool("weather", "live weather",
        { city: "Paris" }, // schema
        async ({ city }) => // callback
            { ... "sunny" }
    )
    ```
  </Card>

  <Card title="MCP Client" icon="setting">
    Utilisez des [outils](https://modelcontextprotocol.io/docs/concepts/tools) exposés dans des [Serveurs de Fournisseurs de Contexte de Modèle](/genaiscript/reference/scripts/mcp-tools).

    ```js wrap
    defTool({
      memory: {
        command: "npx",
        args: ["-y", "@modelcontextprotocol/server-memory"],
      },
    });
    ```
  </Card>

  <Card title="MCP Server" icon="setting">
    Chaque script est un [Outil Fournisseur de Contexte de Modèle](/genaiscript/reference/scripts/mcp-server).

    ```js wrap
    script({
      parameters: {
        question: "What is the weather in Paris?",
      },
    });
    $`Answer the question ${env.parameters.question}.`;
    ```
  </Card>

  <Card title="LLM Agents" icon="sun">
    Combinez des [outils](/genaiscript/reference/scripts/tools) et des [prompts en ligne](/genaiscript/reference/scripts/inline-prompts/) dans un [agent](/genaiscript/reference/scripts/agents).

    ```js wrap
    defAgent(
      "git",
      "Agent that answer git questions for the current repo",
      "You are a helpful expert in using git.",
      { tools: ["git"] },
    );
    ```

    ```js wrap
    script({ tools: "agent" });

    $`Do a statistical analysis of the last commits`;
    ```
  </Card>

  <Card title="Reuse and Share Scripts" icon="star">
    Les scripts sont des [fichiers](/genaiscript/reference/scripts/) ! Ils peuvent être versionnés, partagés, forkés, ...

    <FileTree>
      * genaisrc
        * my-script.genai.mjs
        * un-autre-super-script.genai.mjs
    </FileTree>
  </Card>

  <Card title="Data Schemas" icon="list-format">
    Définissez, validez, réparez des données en utilisant des [schémas](/genaiscript/reference/scripts/schemas).

    ```js wrap
    const data = defSchema("MY_DATA",
        { type: "array", items: { ... }, })
    $`Extract data from files using ${data} schema.`
    ```
  </Card>

  <Card title="Ingest text from PDFs, DOCX, ..." icon="seti:pdf">
    Manipulez [des PDFs](/genaiscript/reference/scripts/pdf), [des DOCX](/genaiscript/reference/scripts/docx), ...

    ```js wrap
    // automatically convert to text
    def("PDF", env.files, { endsWith: ".pdf" });
    // or parse and process
    const { pages } = await parsers.PDF(env.files[0]);
    ```
  </Card>

  <Card title="Ingest tables from CSV, XLSX, .." icon="seti:pdf">
    Manipulez des données tabulaires provenant de [CSV](/genaiscript/reference/scripts/csv), [XLSX](/genaiscript/reference/scripts/xlsx), ...

    ```js wrap
    // automatically convert to text
    def("DATA", env.files, {
      endsWith: ".csv",
      // take top 100 rows
      sliceHead: 100,
    });
    // or parse to JavaScript object array
    const rows = await parsers.CSV(env.files[0]);
    // render as markdown table
    defData("ROWS", rows, { sliceHead: 100 });
    ```
  </Card>

  <Card title="Speech To Text" icon="seti:microphone">
    Transcrivez automatiquement des audios ou vidéos en utilisant [OpenAI](/genaiscript/configuration/openai) ou [d'autres solutions](/genaiscript/configuration/whisperasr).

    ```js
    const transcript = await transcript("path/to/audio.mp3");
    const { srt, vtt, segments } = transcript;
    ```
  </Card>

  <Card title="Images" icon="seti:image">
    Incluez des images dans les prompts, nous les recadrerons/redimensionnerons automatiquement pour vous.

    ```js
    defImages(images, { autoCrop: true, details: "low" });
    ```

    <YouTube id="https://youtu.be/XbWgDn7NdTg" />
  </Card>

  <Card title="Videos" icon="seti:video">
    Extrayez des images fixes à partir de vidéos en utilisant des timestamps ou même des transcriptions.

    ```js
    const frames = await ffmpeg.extractFrames("...", { count: 10 });
    defImages(frames, { details: "low" });
    ```
  </Card>

  <Card title="Generate Files" icon="document">
    Extrayez des fichiers et comparez les différences depuis le résultat du LLM. Prévisualisez les modifications dans l'interface de refactorisation.

    ```js wrap
    $`Save the result in poem.txt.`;
    ```

    ````txt wrap
    FILE ./poem.txt
    ```txt
    The quick brown fox jumps over the lazy dog.
    ```
    ````

    <FileTree>
      * poem.txt extrait par genaiscript
    </FileTree>
  </Card>

  <Card title="File search" icon="document">
    Effectuez des recherches Grep ou Fuzzy dans des [fichiers](/genaiscript/reference/scripts/files).

    ```js wrap
    const { files } = await workspace.grep(/[a-z][a-z0-9]+/, { globs: "*.md" });
    ```
  </Card>

  <Card title="Web search" icon="magnifier">
    [Faites des recherches Web](/genaiscript/reference/scripts/web-search) en utilisant Bing ou Tavily.

    ```js wrap
    const pages = await retrieval.webSearch("what are the latest news about AI?");
    ```
  </Card>

  <Card title="Browser automation" icon="approve-check-circle">
    Naviguez et scrappez le web avec [Playwright](/genaiscript/reference/scripts/browser).

    ```js
    const page = await host.browse("https://...");
    const table = await page.locator("table[...]").innerHTML();
    def("TABLE", await HTML.convertToMarkdown(table));
    ```
  </Card>

  <Card title="RAG built-in" icon="magnifier">
    [Recherche vectorielle intégrée](/genaiscript/reference/scripts/vector-search/) en utilisant une base de données locale ou [Azure AI Search](https://learn.microsoft.com/en-us/azure/search/search-what-is-azure-search).

    ```js wrap
    const index = await retrieval.index("animals", { type: "azure_ai_search" });
    await index.insertOrUpdate(env.files);
    const docs = await index.search("cat dog");
    ```
  </Card>

  <Card title="Safety First!" icon="seti:lock">
    GenAIScript offre des prompts systèmes intégrés pour une IA Responsable ainsi qu'un support de Validation de Sécurité de Contenu Azure pour valider la [sécurité du contenu](/genaiscript/reference/scripts/content-safety).

    ```js wrap
    script({ ...,
        systemSafety: "default",
        contentSafety: "azure" // use azure content safety
    })

    const safety = await host.contentSafety()
    const res = await safety.detectPromptInjection(env.vars.input)
    ```
  </Card>

  <Card title="GitHub Models and GitHub Copilot" icon="github">
    Exécutez des modèles via GitHub en utilisant [GitHub Models](/genaiscript/configuration/github) ou [GitHub Copilot](/genaiscript/configuration/github-copilot-chat).

    ```js wrap
    script({ ..., model: "github:openai/gpt-4o" })
    ```

    <YouTube id="https://youtube.com/Wya3MQRIbmE/" />
  </Card>

  <Card title="Azure AI Foundry, Google, Anthropic, Amazon, Alibaba, ..." icon="rocket">
    Exécutez des modèles issus de [Azure AI Foundry](https://ai.azure.com/), [Google](https://aistudio.google.com/), [Anthropic](https://www.anthropic.com/), [Alibaba](https://www.alibaba.com/), et bien d'autres. Consultez [Configuration](/genaiscript/getting-started/configuration/).

    ```js wrap
    script({ ..., model: "azure_ai_inference:o3-mini"})
    ```
  </Card>

  <Card title="Local Models" icon="laptop">
    Exécutez vos scripts avec des [modèles Open Source](/genaiscript/getting-started/configuration/), tels que [Phi-3](https://azure.microsoft.com/en-us/blog/introducing-phi-3-redefining-whats-possible-with-slms/), en utilisant [Ollama](https://ollama.com/), [LocalAI](https://localai.io/), ...

    ```js wrap
    script({ ..., model: "ollama:phi3" })
    ```
  </Card>

  <Card title="Code Interpreter" icon="seti:python">
    Laissez le LLM exécuter du code dans un environnement d'exécution isolé.

    ```js wrap
    script({ tools: ["python_code_interpreter"] });
    ```
  </Card>

  <Card title="Containers" icon="seti:docker">
    Exécutez du code dans des [conteneurs Docker](/genaiscript/reference/scripts/container).

    ```js wrap
    const c = await host.container({
      image: "python:alpine",
    });
    const res = await c.exec("python --version");
    ```
  </Card>

  <Card title="LLM Composition" icon="external">
    [Exécutez des LLMs](/genaiscript/reference/scripts/inline-prompts/) pour construire vos prompts LLM.

    ```js wrap
    // summarize each files individually
    for (const file of env.files) {
      const { text } = await runPrompt((_) => {
        _.def("FILE", file);
        _.$`Summarize the FILE.`;
      });
      // use result in main prompt
      def("SUMMARY", text);
    }
    // use summary
    $`Summarize all the summaries.`;
    ```
  </Card>

  <Card title="Generate Images" icon="sun">
    [Générez des images](/genaiscript/reference/scripts/image-generation) en utilisant OpenAI DALL-E ou autres outils.

    ```js wrap
    const { image, revisedPrompt } = await generateImage(
      `a cute cat. only one. photographic, high details. 4k resolution.`,
    );
    ```
  </Card>

  <Card title="Classify" icon="heart">
    Classifiez du texte, des images ou un mélange des deux.

    ```js
    const joke = await classify("Why did the chicken cross the roard? To fry in the sun.", {
      yes: "funny",
      no: "not funny",
    });
    ```
  </Card>

  <Card title="Prompty" icon="seti:markdown">
    Convertissez des fichiers [Prompty](https://prompty.ai/) en utilisant GenAIScript.

    ```markdown title="poem.prompty"
    ---
    name: poem
    ---

    system:
    Write a short poem about
    user:
    {{something}}.
    ```

    ```js wrap
    importTemplate("poem.prompty", { something: "code " });
    ```
  </Card>

  <Card title="Pluggable Secret Scanning" icon="seti:license">
    Analysez vos discussions pour détecter la présence de secrets en utilisant le [scanning de secrets](/genaiscript/reference/scripts/secret-scanning).

    ```json title="genaiscript.config.json"
    {
        "secretPatterns": {
            ...,
            "OpenAI API Key": "sk-[A-Za-z0-9]{32,48}"
        }
    }
    ```
  </Card>

  <Card title="Automate with CLI" icon="github">
    Automatisez avec le [CLI](/genaiscript/reference/cli), intégrez des rapports à votre pipeline CI/CD.

    ```bash frame="none" wrap
    npx genaiscript run tlaplus-linter "*.tla"
    ```
  </Card>

  <Card title="Pull Request Reviews" icon="comment">
    Intégrez des [vérifications Pull Requests](/genaiscript/reference/cli/run/#pull-requests) via commentaires, revues ou mises à jour de descriptions. Prend en charge GitHub Actions et les pipelines Azure DevOps.

    ```bash frame="none" wrap "--pull-request-reviews"
    npx genaiscript ... --pull-request-reviews
    ```
  </Card>

  <Card title="Tests and Evals" icon="star">
    Construisez des prompts fiables en utilisant des [tests et évaluations](/genaiscript/reference/scripts/tests) grâce à [promptfoo](https://promptfoo.dev/).

    ```js wrap
    script({ ..., tests: {
      files: "penguins.csv",
      rubric: "is a data analysis report",
      facts: "The data refers about penguin population in Antartica.",
    }})
    ```

    <Image src={testExplorerSrc} alt={testExplorerAlt} loading="lazy" />
  </Card>
</CardGrid>

## Études de cas

Histoires du monde réel utilisant GenAIScript.

<DirectoryLinks directory="case-studies" />

## Exemples

Scripts complets prêts à être utilisés.

<DirectoryLinks directory="samples" />

## Guides

Un recueil de recettes pour faire de vous un as du scripting.

<DirectoryLinks directory="guides" />

## Agents

<BuiltinAgents />

## Documentation adaptée aux LLMs

Si vous êtes un crawler LLM, récupérez [https://microsoft.github.io/genaiscript/llms.txt](https://microsoft.github.io/genaiscript/llms.txt) pour obtenir une carte de la documentation ou ajoutez le suffixe `.md` à toute URL de documentation pour obtenir un contenu brut au format markdown.

Par exemple, [https://microsoft.github.io/genaiscript/guides/prompt-as-code.md](https://microsoft.github.io/genaiscript/guides/prompt-as-code.md) (notez l'extension .md).

<hr />

Traduit par IA. Veuillez vérifier le contenu pour plus de précision.
