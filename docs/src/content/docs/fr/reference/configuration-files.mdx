---
title: Fichiers de configuration
description: Apprenez à configurer les paramètres courants en utilisant des
  fichiers de configuration
sidebar:
  order: 90
hero:
  image:
    alt: "An 8-bit style illustration features four colored squares stacked to
      represent different types of files such as .env and config files. Each
      square shows a unique icon: a keyhole for secrets, a spark for scripts, a
      gear for configuration, and a chain link for include files. Above the
      stack, a swirling line connects them, suggesting the merging or combining
      of these files. The design is simple, minimal, uses five flat colors, and
      has no people or background elements."
    file: ./configuration-files.png

---

import { Code } from "@astrojs/starlight/components"
import schema from "../../../../public/schemas/config.json?raw"

GenAIScript prend en charge des fichiers de configuration locaux et globaux afin de permettre la réutilisation de paramètres et de secrets communs entre plusieurs scripts.

## Résolution du fichier .env

GenAIScript va scanner et charger les fichiers `.env` suivants dans l’ordre suivant :

* propriété `envFile` dans les fichiers de configuration (voir ci-dessous)
* variable d’environnement `GENAISCRIPT_ENV_FILE`
* options de ligne de commande `--env`

```sh
genaiscript run ... --env ./.env.debug --env ~/.env.dev
```

Si aucune des options ci-dessus n’est définie, il essaiera de charger les fichiers suivants :

* `~/.env`
* `./.env`
* `./.env.genaiscript`

### Résolution du fichier de configuration

GenAIScript va rechercher les fichiers de configuration suivants et fusionner leur contenu dans la configuration finale.

* `~/genaiscript.config.yaml`
* `~/genaiscript.config.json`
* `./genaiscript.config.yaml`
* `./genaiscript.config.json`

Les fichiers JSON prennent en charge le format [JSON5](https://json5.org/) (y compris les commentaires, les virgules finales, etc.).

## Schéma

Le schéma de configuration se trouve à l’adresse [https://microsoft.github.io/genaiscript/schemas/config.json](https://microsoft.github.io/genaiscript/schemas/config.json).

<Code code={schema} wrap={true} lang="json" />

## Propriété `envFile`

L’emplacement final de `envFile` sera utilisé pour charger le secret dans les variables d’environnement. Cela ne prend en charge qu’un seul fichier.

## Propriété `include`

La propriété `include` permet de fournir des chemins glob pour inclure plus de scripts.
Combinée avec un fichier de configuration global, cela permet de partager des scripts entre plusieurs projets.

```yaml title="genaiscript.config.yaml"
include:
    - "globalpath/*.genai.mjs"
```

## Propriété `modelAliases`

La propriété `modelAliases` vous permet de définir des alias pour les noms de modèles.

```js
{
    "modelAliases": {
        "llama32": "ollama:llama3.2:1b",
        "llama32hot": {
            "model": "ollama:llama3.2:1b",
            "temperature": 2
        }
    }
}
```

## Propriété `modelEncodings`

La propriété `modelEncodings` vous permet de spécifier l’encodage pour un modèle.

```js
{
    "modelEncodings": {
        "azure:gpt__4o_random_name": "gpt-4o"
    }
}
```

## Débogage

Activez la catégorie de débogage `config` pour voir des informations supplémentaires sur la résolution de la configuration.

Vous pouvez également activer d’autres catégories de débogage pour des journaux plus détaillés.

```sh
DEBUG=config genaiscript run ...
```

<hr />

Traduit à l’aide de l’IA. Veuillez vérifier l’exactitude du contenu.
