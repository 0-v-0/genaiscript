---
import Default from "@astrojs/starlight/components/Header.astro";
import { Aside } from "@astrojs/starlight/components"

// Simple locale detection from URL path
const { pathname } = Astro.url;
const pathSegments = pathname.split("/").filter(Boolean);
// Check if the path contains a locale (e.g., /genaiscript/fr/...)
const localeIndex = pathSegments.findIndex((segment) => segment === "fr");
const isLocalized = localeIndex !== -1;

// Create the English version URL by removing the locale segment
const englishUrl = isLocalized ? pathname.replace("/fr/", "/") : pathname;
---

<Default>
  {isLocalized ? <Aside type="note">AI generated translation.</Aside> : null}
  <slot />
</Default>
